<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>sbpack examples</title>
</head>
<body>
  <h1>Create new project!</h1>

  <button onclick="openNewProject()">Open in new window</button>
  
  <button onclick="embedNewProject()">Embed</button>
  
  
  <div id="myDiv"></div>

<script type="module">
import sdk from '../dist/index.mjs';
console.log(sdk)

// Create the index.ts file
const code = `import moment from 'moment';

document.getElementById('time').innerHTML = moment().format('MMMM Do YYYY, h:mm:ss a');
`;

// Create the index.html file
const html = `<h1>I was created on <span id='time'></span></h1>`;

// Create the project payload.
const project = {
  // files: {
  //   'index.ts': code,
  //   'index.html': html,
  // },
  title: 'Dynamically Generated Project',
  description: 'Created with <3 by the StackBlitz SDK!',
  template: 'node',
  // dependencies: {
  //   moment: '*', // * = latest version
  // },
};

// Method to open project in new window
window['openNewProject'] = () => {
  sdk.openProject(project);
};

// Method to embed this project
window['embedNewProject'] = () => {
  sdk.embedProject('myDiv', project, { height: 320 });
};



</script>
</body>
</html>